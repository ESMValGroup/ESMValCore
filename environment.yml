---
name: esmvaltool
channels:
  - conda-forge
  - nodefaults

dependencies:
  - cartopy
  - cf-units
  - cftime
  - compilers
  - dask
  - esgf-pyclient>=0.3.1
  - esmpy!=8.1.0
  - filelock
  - fiona
  - fire
  - geopy
  - humanfriendly
  - importlib_resources
  - iris>=3.4.0
  - iris-esmf-regrid >=0.6.0  # to work with latest esmpy
  - isodate
  - jinja2
  - nc-time-axis
  - nested-lookup
  - netcdf4
  - numpy
  - packaging
  - pandas
  - pillow
  - pip!=21.3
  - prov
  - psutil
  - py-cordex
  - pybtex
  - python>=3.8
  - python-stratify
  - pyyaml
  - requests
  - scipy>=1.6
  - shapely
  - yamale
  # Python packages needed for building docs
  - autodocsumm>=0.2.2
  - ipython
  - nbsphinx
  # sphinx >=6 can not be installed because
  # sphinx_rtd_theme are pinning docutils<0.19 which is the only
  # practical version that supports python=3.11; see
  # github.com/readthedocs/sphinx_rtd_theme/issues/1323
  # github.com/conda-forge/sphinx_rtd_theme-feedstock/issues/28
  - sphinx >=6.1.3
  - sphinx_rtd_theme
  # Python packages needed for testing
  - flake8
  - mypy>=0.990
  - pytest>=3.9,!=6.0.0rc1,!=6.0.0
  - pytest-cov>=2.10.1
  - pytest-env
  - pytest-html!=2.1.0
  - pytest-metadata>=1.5.1
  - pytest-mypy
  - pytest-mock
  - pytest-xdist
  # Not on conda-forge - ESMValTool_sample_data==0.0.3
  # Still for testing, MyPy library stubs
  - types-requests
  - types-pkg_resources
  - types-PyYAML
  # Python packages needed for installing in development mode
  - codespell
  - docformatter
  - isort
  - pre-commit
  # Prospector is not Python 3.11-compatible
  # - prospector!=1.1.6.3,!=1.1.6.4
  # Not on conda forge - vprof
  - yamllint
  - yapf
