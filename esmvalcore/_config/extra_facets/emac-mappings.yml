# Extra facets for native EMAC model output

# All extra facets for EMAC are optional but might be necessary for some
# variables.

# Notes:
# - The facets ``channel`` and ``postproc_flag`` have to be specified in the
#   recipe if they are not given here.
# - If ``raw_name`` is omitted and no derivation in the EMAC fix is given, the
#   CMOR short_name is used by default. To accept multiple raw names for a
#   variable, ``raw_name`` can be given as a list. In this case, the
#   prioritization is given by the order of the list; if possible, use the
#   first entry, if this is not present, use the second, etc.

# A complete list of supported keys is given in the documentation (see
# ESMValCore/doc/quickstart/find_data.rst).
---
'*':
  '*':
    '*':
      postproc_flag: ''

EMAC:

  # 1D/2D dynamical/meteorological variables
  '*':
    areacella:
      raw_name: gboxarea
      channel: grid_def
    areacello:
      raw_name: gboxarea
      channel: grid_def
    awhea:  # non-CMOR variable
      raw_name: awhea_ave
      channel: Omon
    clivi:
      raw_name: xivi_ave
      channel: Amon
    clt:
      raw_name: aclcov_ave
      channel: Amon
    clwvi:  # derived from xlvi_ave, xivi_ave
      channel: Amon
    co2mass:
      raw_name: MP_CO2_ave
      channel: tracer_pdef_gp
    evspsbl:
      raw_name: evap_ave
      channel: Amon
    hfls:
      raw_name: ahfl_ave
      channel: Amon
    hfns:  # ESMValCore-derivation
      channel: Amon
    hfss:
      raw_name: ahfs_ave
      channel: Amon
    hurs:
      raw_name: rh_2m_ave
      channel: Amon
    od550aer:
      raw_name: aot_opt_TOT_550_total_ave
      channel: AERmon
    pr:  # derived from aprl_ave, aprc_ave, aprs_ave
      channel: Amon
    prc:
      raw_name: aprc_ave
      channel: Amon
    prl:  # non-CMOR variable
      raw_name: aprl_ave
      channel: Amon
    prsn:
      raw_name: aprs_ave
      channel: Amon
    prw:
      raw_name: qvi_ave
      channel: Amon
    ps:
      raw_name: aps_ave
      channel: Amon
    psl:
      raw_name: slp_ave
      channel: Amon
    rlds:  # derived from flxtbot_ave, tradsu_ave
      channel: Amon
    rlns:  # ESMValCore-derivation
      channel: Amon
    rlus:
      raw_name: tradsu_ave
      channel: Amon
    rlut:
      raw_name: flxttop_ave
      channel: Amon
    rlutcs:
      raw_name: flxtftop_ave
      channel: Amon
    rsds:  # derived from flxsbot_ave, sradsu_ave
      channel: Amon
    rsdt:  # derived from flxstop_ave, srad0u_ave
      channel: Amon
    rsns:  # ESMValCore-derivation
      channel: Amon
    rsnt:  # ESMValCore-derivation
      channel: Amon
    rsus:
      raw_name: sradsu_ave
      channel: Amon
    rsut:
      raw_name: srad0u_ave
      channel: Amon
    rsutcs:
      raw_name: flxusftop_ave
      channel: Amon
    rtmt:  # derived from flxttop_ave, flxstop_ave
      channel: Amon
    sfcWind:
      raw_name: wind10_ave
      channel: Amon
    siconc:
      raw_name: seaice_ave
      channel: Amon
    siconca:
      raw_name: seaice_ave
      channel: Amon
    sithick:
      raw_name: siced_ave
      channel: Amon
    tas:
      raw_name: temp2_ave
      channel: Amon
    tasmax:
      raw_name: temp2_max
      channel: Amon
    tasmin:
      raw_name: temp2_min
      channel: Amon
    tauu:
      raw_name: ustr_ave
      channel: Amon
    tauv:
      raw_name: vstr_ave
      channel: Amon
    tos:
      raw_name: tsw
      channel: g3b
    toz:
      channel: column
    ts:
      raw_name: tsurf_ave
      channel: Amon

    # TODO: CHECK IF THE CALCULATION IS CORRECT!!!
    # -> it might be necessary to weight these fields with cos(lat)
    uas:
      raw_name: u10_ave
      channel: Amon
    vas:
      raw_name: v10_ave
      channel: Amon

    # Tracers (non-CMOR variables)
    MP_BC_tot:  # derived from MP_BC_ks_ave, MP_BC_as_ave, MP_BC_cs_ave, MP_BC_ki_ave
      channel: tracer_pdef_gp
    MP_CFCl3:
      raw_name: MP_CFCl3_ave
      channel: tracer_pdef_gp
    MP_ClOX:
      raw_name: MP_ClOX_ave
      channel: tracer_pdef_gp
    MP_CH4:
      raw_name: MP_CH4_ave
      channel: tracer_pdef_gp
    MP_CO:
      raw_name: MP_CO_ave
      channel: tracer_pdef_gp
    MP_CO2:
      raw_name: MP_CO2_ave
      channel: tracer_pdef_gp
    MP_DU_tot:  # derived from MP_DU_as_ave, MP_DU_cs_ave, MP_DU_ai_ave, MP_DU_ci_ave
      channel: tracer_pdef_gp
    MP_N2O:
      raw_name: MP_N2O_ave
      channel: tracer_pdef_gp
    MP_NH3:
      raw_name: MP_NH3_ave
      channel: tracer_pdef_gp
    MP_NO:
      raw_name: MP_NO_ave
      channel: tracer_pdef_gp
    MP_NO2:
      raw_name: MP_NO2_ave
      channel: tracer_pdef_gp
    MP_NOX:
      raw_name: MP_NOX_ave
      channel: tracer_pdef_gp
    MP_O3:
      raw_name: MP_O3_ave
      channel: tracer_pdef_gp
    MP_OH:
      raw_name: MP_OH_ave
      channel: tracer_pdef_gp
    MP_S:
      raw_name: MP_S_ave
      channel: tracer_pdef_gp
    MP_SO2:
      raw_name: MP_SO2_ave
      channel: tracer_pdef_gp
    MP_SO4mm_tot:  # derived from MP_SO4mm_ns_ave, MP_SO4mm_ks_ave, MP_SO4mm_as_ave, MP_SO4mm_cs_ave
      channel: tracer_pdef_gp
    MP_SS_tot:  # derived from MP_SS_ks_ave, MP_SS_as_ave, MP_SS_cs_ave
      channel: tracer_pdef_gp

  # 3D dynamical/meteorological variables
  6hrLev:
    ta:
      raw_name: tm1_ave
      channel: Amon
    ua:
      raw_name: um1_cav
      channel: Amon
    va:
      raw_name: vm1_cav
      channel: Amon
  AERmon:
    ua:
      raw_name: um1_cav
      channel: Amon
    va:
      raw_name: vm1_cav
      channel: Amon
    zg:
      raw_name: geopot_ave
      channel: Amon
  Amon:
    cl:
      raw_name: aclcac_ave
      channel: Amon
    cli:
      raw_name: xim1_ave
      channel: Amon
    clw:
      raw_name: xlm1_ave
      channel: Amon
    hur:  # defined on plev19
      raw_name: rhum_p19_ave
      channel: Amon
    hus:  # defined on plev19
      raw_name: qm1_p19_ave
      channel: Amon
    ta:  # defined on plev19
      raw_name: tm1_p19_ave
      channel: Amon
    ua:  # defined on plev19
      raw_name: um1_p19_cav
      channel: Amon
    va:  # defined on plev19
      raw_name: vm1_p19_cav
      channel: Amon
    zg:  # defined on plev19
      raw_name: geopot_p19_ave
      channel: Amon
  CF3hr:
    ta:
      raw_name: tm1_ave
      channel: Amon
  CFday:
    cl:
      raw_name: aclcac_ave
      channel: Amon
    cli:
      raw_name: xim1_ave
      channel: Amon
    clw:
      raw_name: xlm1_ave
      channel: Amon
    hur:
      raw_name: rhum_ave
      channel: Amon
    hus:
      raw_name: qm1_ave
      channel: Amon
    ta:
      raw_name: tm1_ave
      channel: Amon
    ua:
      raw_name: um1_cav
      channel: Amon
    va:
      raw_name: vm1_cav
      channel: Amon
    zg:
      raw_name: geopot_ave
      channel: Amon
  CFmon:
    hur:
      raw_name: rhum_ave
      channel: Amon
    hus:
      raw_name: qm1_ave
      channel: Amon
    ta:
      raw_name: tm1_ave
      channel: Amon
  day:
    hur:  # defined on plev8
      raw_name: rhum_p19_ave
      channel: Amon
    hus:  # defined on plev8
      raw_name: qm1_p19_ave
      channel: Amon
    ua:  # defined on plev8
      raw_name: um1_p19_cav
      channel: Amon
    va:  # defined on plev8
      raw_name: vm1_p19_cav
      channel: Amon
    zg:  # defined on plev8
      raw_name: geopot_p19_ave
      channel: Amon
  E1hr:
    ua:  # defined on plev3
      raw_name: um1_p19_cav
      channel: Amon
    va: # defined on plev3
      raw_name: vm1_p19_cav
      channel: Amon
  E3hrPt:
    hus:
      raw_name: qm1_ave
      channel: Amon
  Eday:
    ta:  # defined on plev19
      raw_name: tm1_p19_ave
      channel: Amon
    hus:  # defined on plev19
      raw_name: qm1_p19_ave
      channel: Amon
    ua:  # defined on plev19
      raw_name: um1_p19_cav
      channel: Amon
    va:  # defined on plev19
      raw_name: vm1_p19_cav
      channel: Amon
    zg:  # defined on plev19
      raw_name: geopot_p19_ave
      channel: Amon
  Esubhr:
    ta:
      raw_name: tm1_ave
      channel: Amon
    ua:
      raw_name: um1_cav
      channel: Amon
    va:
      raw_name: vm1_cav
      channel: Amon


# Elements missing from original mapping table
#
# Mixed channels (not supported yet; this probably needs to be implemented as
# derivation)
# AIRC_NO_s: {airc_NO: import_grid, geopot_ave: Amon}
# VOLC_SO2_s: {VOLC_SO2_SO2: import_grid, geopot_ave: Amon}
#
# No test data available
# cod_sw_b01:
#   raw_name: tau_cld_sw_B01_ave
#   channel: Amon
# lnox:  # non-CMOR variable; derived from NOxcg_ave, NOxic_ave
#   channel: lnox_PaR_T_gp
# ANTHNT_AER_TC_s:  # derived from ANTHNT_AER_BC, ANTHNT_AER_OC
#   channel: import_grid
# ANTHNT_CO_s:
#   raw_name: ANTHNT_CO
#   channel: import_grid
# ANTHNT_NO_s:
#   raw_name: ANTHNT_NO
#   channel: import_grid
# ANTHNT_SO2_s:
#   raw_name: ANTHNT_SO2
#   channel: import_grid
# BB_AER_TC_s:  # derived from BB_AER_BC, BB_AER_OC
#   channel: import_grid
# BB_CO_s:
#   raw_name: BB_CO
#   channel: import_grid
# BB_NO_s:
#   raw_name: BB_NO
#   channel: import_grid
# BB_SO2_s:
#   raw_name: BB_SO2
#   channel: import_grid
# ROAD_AER_BC:
#   channel: import_grid
# ROAD_NO:
#   channel: import_grid
# SHIP_AER_BC_s:
#   raw_name: SHIP_AER_BC
#   channel: import_grid
# SHIP_NO_s:
#   raw_name: SHIP_NO
#   channel: import_grid
# SHIP_SO2_s:
#   raw_name: SHIP_SO2
#   channel: import_grid
# TN_GHG_CH4:
#   channel: import_grid
# TN_GHG_CO2:
#   channel: import_grid
# TN_GHG_N2O:
#   channel: import_grid
